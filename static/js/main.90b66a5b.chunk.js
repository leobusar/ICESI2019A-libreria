(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(60),o=a.n(i),l=(a(69),a(2)),c=a(3),s=a(5),m=a(4),u=a(6),b=a(46),h=a.n(b);a(117);h.a.initializeApp({apiKey:"AIzaSyDK-znSL__6nFbWzNSIGTwtdk58pnQJriY",authDomain:"libreria-b3987.firebaseapp.com",databaseURL:"https://libreria-b3987.firebaseio.com",projectId:"libreria-b3987",storageBucket:"libreria-b3987.appspot.com",messagingSenderId:"710050059759"});var d=h.a,p=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"clickLibro",value:function(){this.props.handleEdit(this.props.libro)}},{key:"render",value:function(){var e=this.props.libro;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.author),r.a.createElement("td",null,r.a.createElement("button",{className:"btn  btn-success",onClick:this.clickLibro.bind(this)},"Editar"),r.a.createElement("button",{className:"btn  btn-danger"},"Eliminar")))}}]),t}(n.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleEditLibro",value:function(e){this.props.handleEditarLibro(e)}},{key:"render",value:function(){var e=this,t=this.props.libros.map(function(t){return r.a.createElement(p,{key:t.id,libro:t,handleEdit:e.handleEditLibro.bind(e)})});return r.a.createElement("div",{className:"LibroList"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Id"),r.a.createElement("th",{scope:"col"},"Nombre"),r.a.createElement("th",{scope:"col"},"Autor"),r.a.createElement("th",{scope:"col"},"Acciones"))),r.a.createElement("tbody",null,t)))}}]),t}(n.Component),E=a(61),f=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={id:"",name:"",author:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({id:e.libroEdit.id,name:e.libroEdit.name,author:e.libroEdit.author})}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state);var t={id:this.state.id,name:this.state.name,author:this.state.author};this.props.handleNuevoLibro(t)}},{key:"handleOnChange",value:function(e){this.setState(Object(E.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"LibroForm"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("input",{type:"hidden",value:this.state.id,onChange:this.handleOnChange.bind(this)}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Nombre"),r.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",value:this.state.name,onChange:this.handleOnChange.bind(this)})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Autor"),r.a.createElement("input",{type:"text",className:"form-control",id:"author",name:"author",value:this.state.author,onChange:this.handleOnChange.bind(this)})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Crear")))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={libros:[{id:1,name:"Hojarasca",author:"Gabriel GM"},{id:2,name:"Cien  a\xf1os de soledad",author:"Gabriel GM"},{id:3,name:"platero y yo",author:"Juan Ram\xf3n Jimenez"},{id:4,name:"Romeo y julieta",author:"William Shakespeare"}],libroEdit:{id:"",name:"",author:""},db:d.firestore()},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.db.collection("libros").get().then(function(t){return t.forEach(function(t){console.log(t.data()),e.setState({libros:t.data()})})})}},{key:"agregarLibro",value:function(e){var t=this.state.libros;if(""!==e.id){var a=t.findIndex(function(t){return t.id===e.id});t[a]=e}else{var n=Math.floor(1e5*Math.random())+1;e.id=n,t.push(e)}this.setState({libros:t,libroEdit:{id:"",name:"",author:""}})}},{key:"editarLibro",value:function(e){console.log(e),this.setState({libroEdit:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"Libros container mt-5"},r.a.createElement("h1",null," Librer\xeda de ",this.props.owner),r.a.createElement(v,{libros:this.state.libros,handleEditarLibro:this.editarLibro.bind(this)}),r.a.createElement(f,{handleNuevoLibro:this.agregarLibro.bind(this),libroEdit:this.state.libroEdit}))}}]),t}(n.Component),j=a(125),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("span",{className:"navbar-brand"},"Navbar"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(j.a,{className:"nav-link",to:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(j.a,{className:"nav-link",to:"/libros"},"Libros")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(j.a,{className:"nav-link",to:"/about"},"About")))))}}]),t}(n.Component),y=a(127),N=a(126),k=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home"},r.a.createElement("h1",{className:"mx-3 mt-5"}," Bienvenidos"))}}]),t}(n.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"About"},r.a.createElement("h1",{className:"mx-3 mt-5"}," Leonardo  Bustamante"))}}]),t}(n.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.props.match.params.id),r.a.createElement("div",null,this.props.match.params.id)}}]),t}(n.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(g,null),r.a.createElement(N.a,{exact:!0,path:"/",component:k}),r.a.createElement(N.a,{exact:!0,path:"/libros",render:function(e){return r.a.createElement(O,Object.assign({},e,{owner:"Leonardo"}))}}),r.a.createElement(N.a,{path:"/about",component:L}),r.a.createElement(N.a,{path:"/libros/:id",component:C})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,t,a){e.exports=a(124)},69:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.90b66a5b.chunk.js.map